{"data":[{"title":"小米路由器3G折腾之刷OpenWrt记录","url":"/posts/xiaomi_r3g_openwrt/","content":"\n\n生命不息, 折腾不止...\n\n\n\n本篇由于创作时间过于久远, 作者已无法保证其准确性, 内容仅供参考。\n\n \n\n\nconst ap0 = new APlayer ({\n    container: document.getElementById(\"aplayer0\"),\n    theme: \"#33363b\",\n    fixed: false,\n    listFolded: false,\n    listMaxHeight: false,\n    lrcType: false,\n    mini: false,\n    volume: 0.7,\n    order: \"list\",\n    loop: \"all\",\n    autoplay: false,\n    audio: [{\n        name: \"Mallow Flower\",\n        artist: \"Otokaze\",\n        url: \"https://music.starry-s.me/music/969d_ef88_965d_f8693c4f0a65db94a9cc0ebb9be2bd06.mp3\",\n        cover: \"https://music.starry-s.me/music/cover/781752767371058.jpg\",\n        lrc: \"\",\n        theme: \"#EFCE82\"\n    }]\n});\n \n\n准备工作\n你至少需要以下工具：\n\n路由器本体\n网线\n一个已格式化为FAT/FAT32格式的U盘, 用来刷开发者固件和ssh激活工具\n一根怼Reset钮的针\nWindows用户需要一个SSH软件（例如：putty）\n小米路由器客户端, 用来绑定你的小米账号\n\nSSH到路由器\n\n路由器重启后指示灯会变为蓝色, 若变为红色则为刷机失败。\n\n安装开发者固件并开启SSH权限：\n\n在MiWiFi下载页面下载所需要的路由器开发者固件（ROM -&gt; ROM for R3G开发版）,命名为miwifi.bin。\n\n路由器断电, 将下载好的开发者固件放入U盘插入路由器USB接口, 捅住reset扭接上电源后待指示灯为黄色闪烁时松开, 数分钟后路由器会自动重启, 此过程不要乱动路由器。\n\n小米路由器客户端登陆小米账号绑定路由器设备, 此过程需要路由器联网。\n\nMiWiFi开放平台登陆小米账号下载ssh激活工具命名为miwifi_ssh.bin, 记下root密码。\n\n操作方式同第二步骤, 刷入ssh激活工具。\n\n\nSSH到路由器:\n\nWindows系统用putty, ip为191.168.31.1, 用户名：root, 密码为下载激活ssh工具时记下的密码。\n\nUnix/Linux系统终端执行：ssh root@191.168.31.1\n如果在ssh到路由器时遇到no matching key exchange method found错误，编辑~/.ssh/config, 加入下面两行：\nHost *\n    KexAlgorithms +diffie-hellman-group1-sha1\n\n\n\n刷入Bootloader（推荐/可选）\n\n该步骤可选是因为Breed不支持直接刷入Openwrt固件, 可参考这篇帖子, 不过为了防止变砖, 还是推荐刷Breed。\n\nBreed原作者为hackpascal, 此处为下载地址, 文件名为breed-mt7621-xiaomi-r3g.bin\n第一种方法是ssh到路由器后通过wget下载breed文件再刷入（需要确保路由器联网）, 下载地址为https所以需要加上--no-check-certificate参数。\ncd /tmp\nwget --no-check-certificate https://breed.hackpascal.net/breed-mt7621-xiaomi-r3g.bin -O breed.bin\nmtd -r write breed.bin Bootloader\n\n另一种方法是将breed通过U盘拷贝到路由器再刷入。\nmkdir /tmp/sdcard\nmount /dev/sda1 /tmp/sdcard\nmtd -r write /tmp/sdcard/breed.bin Bootloader\n\n路由器刷写完毕后会自动重启, 在写入Breed的过程中不要动路由器。\n刷机\n下载所需固件：\n\ntuna镜像站的OpenWrt下载地址：https://mirrors.tuna.tsinghua.edu.cn/lede/releases/\n\n官方下载地址: https://downloads.openwrt.org/releases/\n\n\n使用Breed的刷机方法\n按照hackpascal的说法是：\n\n如果kernel0存在kernel1不存在, 那么启动kernel0\n如果kernel1存在kernel0不存在, 那么启动kernel1\n如果kernel0和kernel1都存在, 那么检查环境变量 xiaomi.r3g.bootfw 的值, 如果存在且值为 2, 那么启动kernel1, 否则启动kernel0\n\n简单来说就是：路由器有两个内核, 需要在Breed里设置环境变量让路由器启动kernel1。\n\n刷入Openwrt固件到Kernel1\nmtd write openwrt-18.06.2-ramips-mt7621-mir3g-squashfs-kernel1.bin kernel1\nmtd write openwrt-18.06.2-ramips-mt7621-mir3g-squashfs-rootfs0.bin rootfs0\n\n\n路由器断电, 捅住reset按钮后通电, 待指示灯变为蓝色闪烁后用网线连接路由器到电脑, 浏览器打开网址192.168.1.1, 进入Breed界面。\n\n在环境变量编辑里添加xiaomi.r3g.bootfw字段, 值为2,保存后重启即可进入Openwrt。\n\n\n没有刷入Breed的刷机方法\n\nOpenWrt官网提供的教程是在没有刷入Breed的情况下刷入OpenWrt固件的。\n\nssh到路由器, 导入固件后刷机。\nmtd write openwrt-18.06.2-ramips-mt7621-mir3g-squashfs-kernel1.bin kernel1\nmtd write openwrt-18.06.2-ramips-mt7621-mir3g-squashfs-rootfs0.bin rootfs0\nnvram set flag_try_sys1_failed=1\nnvram commit\n\nreboot\n\n\nOthers\n\n如果刷了Breed + Pandavan/PandoraBox后想换回OpenWrt的话, 首先在Breed中刷回小米路由器开发版的官方固件, 然后SSH到路由器按照上述的使用Breed的刷机方法再刷机。\n\nUSB3.0会对路由器的2.4G频段信号造成干扰。\n\nOpenWrt默认语言为英文, 可安装luci-i18n-base-zh-cn,luci-i18n-base-zh-tw安装简体/繁体中文。\n\nOpenWrt-dist可拓展更多功能。\n\n为优化软件包安装速度, 可将opkg源改为国内：\n\n\n  LuCI -&gt; System -&gt; Software -&gt; Configuration 中将 Distribution feeds 的http://downloads.openwrt.org替换为http://mirrors.tuna.tsinghua.edu.cn/lede。\n\nOpenWrt可安装软件包libustream-openssl libustream-mbedtls解决wget无法访问https服务器问题。\n\n  然后建议把opkg源能改为https的都改为https。\n"},{"title":"使用HMCL启动Minecraft","url":"/posts/hmcl-minecraft/","content":"终于到了暑假可以开一个Minecraft服务器和小伙伴联机的时候了！在发现我对吃鸡那类的游戏除了觉得好玩以外没有任何天赋( 没钱买鼠标？ )后打算继续玩我的世界，所以为了方便那些想玩Minecraft（非网易代理版）但是还不知道怎么操作的那些小伙伴们，这篇教程就这么诞生了。\n\n\n\n本篇由于创作时间过于久远，部分下载链接可能失效，因长期未更新，教程仅供参考。\n\n\n\n本教程将分为二个部分，第一部分将指导你如何使用HMCL启动器安装并使用Minecraft（非网易代理版），第二部分处理一些常见的问题。\n本教程主要写给Windows用户，我想Linux用户不太需要我的教程了吧。。\n可能有人是刚接触电脑的新人，所以我尽可能的把每一步都写详细清楚，方便大家的理解。\n\n本教程仅提供所述内容的下载连接，游戏的版权归Mojang所有。\n顺便说一下网易版并不支持MacOS哈哈哈哈。。。。\n第一部分：\n如果你尚未在官网购买正版的Minecraft，你可以使用HMCL（\n1.\n你需要确保你的电脑已安装java8。下载java：http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\n\n接下来你需要下载HMCL启动器。\n\n我建议去HMCL的官方服务器 下载所需的exe文件，最好不要从贴吧/论坛下载来路不明/非最新版本的HMCL启动器。\n选择最新版本的后缀为.exe的文件下载即可。或者你可以下载后缀为.jar的文件（用于Linux，MacOS）\n\n新建一个文件夹（放在你喜欢的位置例如桌面），将下载的exe/jar文件复制到这里。\n\nWindows用户直接双击exe文件运行即可，\nLinux用户你下载的是jar文件所以如果你想运行你需要新建一个可执行文件：\n ./start.sh\n$ chmod 744 ./start.sh\n\" class=\"code-block\">$ cd 你的文件夹名称\n$ echo \"java -jar hmcl-对应的版本号.jar\" &gt; ./start.sh\n$ chmod 744 ./start.sh\n\n然后在终端执行./start.sh。\n或者直接在终端执行java -jar hmcl-*.jar即可。\n\n设置一个你喜欢的名字并一直使用它，选择离线模式\n\n在HMCL里点击右下角的加号下载游戏文件,建议将游戏下载到你启动器所在的文件夹内。\n如果你已购买正版Minecraft，在确保java安装好后直接去官网下载启动器再到启动器中下载游戏即可，可能会因网络原因速度慢，这是正常现象。\n请支持正版，RMB165，可使用支付宝。\n第二部分：\n\n笔记本双显卡用户请确保你正确的安装了显卡驱动（新买的笔记本不知道什么是显卡驱动就默认已经安装好了），NVIDA显卡用户在桌面右键选择NVIDIA控制面板（没有这个选项可能是你的显卡驱动没安装好），选择 3D设置-&gt;管理3D设置 ，选择添加，找到你安装的JAVA目录下的java.exe，将其设置为高性能处理器。然后保存设置并退出。（ps现在市面上新出的笔记本用集成显卡玩这个游戏也已经很流畅了）\n\n在游戏中按F3，若右侧有NVIDIA字样就说明你已成功的使用独显运行游戏了，在左侧可以观察帧数。\n\nLinux用户如果可以启动HMCL但是无法启动游戏错误报告是有关OpenGL的话在确定显卡驱动配置正常后检查一下是否安装了xorg-xrandr。\n\n64位系统的用户不要安装32位的java，不仅影响性能而且对可使用的内存大小也有限制。\n\nLinux用户如果想用独显玩Minecraft而日常使用时切换回省电的集显，请参考 Linux下使Steam调用Bumblebee使用独显,当然不同的Linux Distribution方法会有不同，请linux用户自行摸索。\n\n\n相关内容：\n\n教程/成功地启动游戏-Minecraft Wiki\n官方网站|Minecraft\n树莓派之我的世界服务器\n\n如果你感兴趣想一起联机我的世界的话欢迎联系我，大家一起来Van游戏。\n"},{"title":"Spring - 2","url":"/posts/spring-2/","content":"\n春天来了。\n\n多图预警\n\n\n\n\n\n\n\n\n\n\n\n\nSpring - 2\n\n拍摄自2018-3-28\n\n"},{"title":"Spring","url":"/posts/spring/","content":"\n多图预警\n\n\n前一阵子拍的一些花，简单地用手机和电脑调了颜色，感觉蛮好看的。感觉有的照片可以当作壁纸了。\n\n\n\n拍摄自ipod touch6\n\n\n\n\n\n拍摄自佳能powershot s100\n\n\n\n\n\n——Spring\n"},{"title":"Sorry, Thank you.","url":"/posts/sorry-thankyou/","content":"\n  \n\n\n想了很久不知道以什么来作为本篇文章的开头，不确定自己真的想说些什么，但是我还是带着确切目的来写这篇文章的。\n这一个月发生了一些不太愉快的事，可能不算很大吧但是对我来说这个影响真的很大。我不知道应该从何说起，先静下来带上耳机慢慢的想慢慢的写。\n\n\n\n一直没想到有些事发生的这么快，短短4个月发生了这么多变化。\n还记得4个月前还在忙小考试的那阵子，这只猫就这么来到了我的生活中。\n4个月它变化很大，长大了许多，从一只几斤重的小猫一下子变成一只大猫了。\n它是一只很通人性的猫，可以用很乖来形容。在家里不打翻任何东西，犯错误会很主动的认错等待受罚。虽然它没有和人沟通的能力但是能看出它一直都想和人说话，一直都在努力的想表达很多事情。甚至它一直都在学人的一举一动。\n它喜欢外出。和别的猫不一样，它可以被绳子栓着溜。夏天的时候我和家人一起在河边陪它溜达。它也不像别的猫那样到处乱跑。路人很喜欢它刷白刷白的毛，在河边很显眼。\n它爱吃猫罐头，经常晚上缠在脚边要罐头吃。有时我太懒了就懒得管他，就只给它一碗猫粮。\n和它相处的这段日子很愉快很美好。\n每天晚上放学回家都能看到它激动的朝你跑来，晚上睡觉它还会趴在你的床边。\n养一只猫的生活很别样的丰富多彩。它改变了我许多。后来它也就成了我生命的一部分了。\n猫的思维也挺特殊的，和人有很大的不同\n我可以用很规矩来形容一个猫。它在我眼里每天生活得都很规矩，定时定点的干一些事，并且总把它的主人当亲人来对待吧。\n每天上学后都能听到几声它独自在家中哭嚎一般的叫声，听着挺揪心的，但是也没办法。\n没想到一切过去得这么快，甚至我现在还难以回忆过去。\n一周前的早晨，它去世了。\n一瞬间觉得这和我想的有些不一样。\n原本普通的一天中午就这样变得不同了。一下午我都神混颠倒的听老师讲课。还是请了一节课的假回家和家人一起把它带到大凌河边埋起来了。\n我选择了沉默起来，没有和任何人说这件事。尽可能的不被这悲伤困扰着。中午在家带上耳机想让自己静下来，但是眼泪就抑制不住的往外流。心里还是那么的舍不得，没有告别的就这么离去了。\n我缓了好长好长的时间。在学校里不愿多说一句话，在家里不敢想太多的东西，稍微有些害怕，有一些孤独。之前每天回家都会习惯性的喊几声它的名字，但是现在又要想方设法的控制自己不要这么做。\n考虑了很久决定写点什么来纪念一下这只陪伴了我几个月的猫咪。的确，我没想到这么快失去它。尽管过去半个月了但我仍能梦到和它一起玩耍时的场景，总觉得它还活着。\n总觉得没有和它说再见，梦里梦见它还是活蹦乱跳的和我闹。一切就像梦一样，我告诉自己那只是一场梦。在梦里和它说再见吧，这一切只能在梦里完成了，梦是那么的真实，总给我一种错觉。而真正的现实却被我当作梦境去面对了。\n还有几天又要考试了，而这次我真的觉得累了。看到班级同学都在使劲的在课上学着，而我想歇一歇。先找几本书看一下吧，总感觉2016年的下半年大脑一直处在混沌的状态，丝毫没有清醒过，做事情的动机也没有了，一点都不像年初时的自己了。随着自己最喜欢的那首歌听腻了，就在也没找到更好听的歌来唤醒大脑的深处。而年末又发生了这些事情。我不得不好好的想想，我到底遗忘了什么，身体为什么这么的累，忙活了一切究竟换回来的是什么，尽管没有后悔过但是真的好累好累。这不是我给自己规划的生活。\n带耳机把这些一点点的写出来，也许写出来心里就会好受了吧。\n有些事没办法按照自己所想的那样去进行，自己所想的和实际发生的之间的差距总是那么大，也许这就是生活吧。\n这就是缘份吧，我想。\n感谢它陪伴我的这4个月。心里想着有些对不起它，但是又没办法挽回了。\n静静的在心里想：谢谢，对不起。\n一切过去的好快，每天还是要面对着新的一切，还要去上学，还要有理想。重新规划一下未来，把没必要的数据都清理掉，给大脑一周的假期。一切还在继续。\n看到AlanWalker终于发布新曲了，非常激动的戴耳机去听。看到这样一个有理想，一直努力的人真好。\n一眨眼2016也就这么过去了。站在2017回首过去一年感觉自己变了好多，经历了好多的事。认识了好多的人，我的生活也就这么一点点的被他们影响着。但是这也没什么不好，虽然累点但是一切还是值得去走的。高中生活过去一半了，真的很快啊，或许到了高三时间会过得更快吧。要学会珍惜，要多和现在还存在的人和事待一会儿。一旦自己发现我已经失去了什么改变不回来时，就都晚了。\n说实话我觉得我性格很大大咧咧的马马虎虎的，但是在班里却很宅的样子都不是很愿意说话。我找不到别的形容自己的词了，感觉说自己二一点也没什么不妥的。可能是我有时候疏忽大意了吧，忽略掉了身边好多对我好的人，还犯下了好多改不了的错误。有时候感觉自己蛮聪明的然后自己固执到了犯了错误都不愿意找原因的地步，然后自己就陷在这里越来越深了。感觉自己一直都是在拆了东墙补西墙那样的生活着，维护起网站了就开始遗弃用了多年的QQ空间了，一遇到点新鲜事就把脑子里别的东西全忘掉了，然后自己就这么看似完美的一天天的走下去了。  \n可能还需要经历很久我在能把自己的毛病改过来吧，或许很久以后我也意识不到自己的毛病。\n两个月过去了，期末过去了，春节即将来临了。有时候我还会不由自主的问自己我养过那只猫吗？它死了吗？发生过了什么吗？······也许一个人真的被什么东西伤到了影响到了他的正常生活后，他的大脑就会控制他自己不顾一切的忘掉这些事情。所以现在我彻底的忘掉了他的样子，盯着窗户上的堵死的猫洞会发呆很久才能想起来这是干什么用的，回看他的照片时会感到很陌生一样问自己，这只猫好可爱啊，为什么我一点和他熟悉的感觉都没有了呢。\n感谢在生命中遇见了它，一切来的快去的也快。\n\n\nSorry, Thankyou.\n"},{"title":"树莓派之我的世界服务器","url":"/posts/raspberrypi-mc-server/","content":"本篇由于创作时间过于久远, 作者已无法保证其准确性, 内容仅供参考。\n\n刚买树莓派3B时就想弄一个我的世界服务器，但是那时不懂Linux，服务器也就没建成。这一阵子打算把这个计划再捡起来，和同学一起联机的话树莓派还是能做到的。ARM系列的CPU性能肯定比X86_64电脑的CPU弱许多，外加上树莓派1G的运行内存，让它跑大型服务器肯定是不可能的，所以只能弄一个几个人联机的小服务器了。\n\n\n\n终于可以继续更新博客了！原计划是11月之前更新博客的。不巧电脑出了问题，重装了一遍Arch Linux,后来又发生了一些事一直没能用电脑。由于开学到现在能放假供我写博客的时间少之又少，这篇原本在11月初就能发表的文章就这样被硬生生推迟到了11月末了。\n\n材料以及工具\n\n树莓派一只 （包括所需要的C10的内存卡以及刷好的固件以及5v，2.5A充电器）\n一个支持DDNS的路由器（非必须）\n\n\n如果不想用树莓派建服务器的话也可以按照本教程在电脑上搭建服务器。\n\n配置树莓派\n调整GPU可使用的内存：\n毕竟用树莓派开服务器不需要占用GPU，直接调低。\nRaspbian: raspi-config中将GPU内存分为16M。\nArch Linux ARM: /boot/config.txt中更改GPU显存为16\n安装JAVA\nArchlinux ARM:\n$ sudo pacman -S jre8-openjdk\n\n通用方法：\n前往 JAVA下载页 下载树莓派（ARM架构，32位系统）所支持的JDK。\n$ mkdir ./java\n$ tar -zxvf 你所下载的JDK.jar.gz -C ./java/\n\n在终端输入./java/jdk1.8.0/bin/java -version显示java的版本号。\n部署服务器\n本篇使用Paper MC部署服务器。\n除了Paper之外还有Bukkit和Spigot以及原版可选。\n使用以下命令启动服务器。\n eula.txt\n$ ./java/jdk*/bin/java -Xms512M -Xmx1024M -jar ./spigot.jar\n\" class=\"code-block\">$ echo eula=True &gt; eula.txt\n$ ./java/jdk*/bin/java -Xms512M -Xmx1024M -jar ./spigot.jar\n\n第一次运行会下载一些文件需要一定的时间。\n网上有很多服务器插件和Mod什么的。本章中不做过多介绍.\n用screen 保持服务器一直运行而不被关掉。\n首先安装好screen。\n$ screen\n$ ./java/jdk1.8.0/bin/java -Xms512M -Xmx1024M -jar./paperclip.jar\n\n在配置好你的服务器后就可以和小伙伴一起联机了。经过测试几个人简单的联机运行蛮正常的。\n"},{"title":"Everything is based on “Hello World”.","url":"/posts/hello-world/","content":"\n\n\n \n\n\nconst ap0 = new APlayer ({\n    container: document.getElementById(\"aplayer0\"),\n    theme: \"#33363b\",\n    fixed: false,\n    listFolded: false,\n    listMaxHeight: false,\n    lrcType: false,\n    mini: false,\n    volume: 0.7,\n    order: \"list\",\n    loop: \"all\",\n    autoplay: false,\n    audio: [{\n        name: \"時雨\",\n        artist: \"川嶋あい\",\n        url: \"https://music.starry-s.me/music/obj_w5rDlsOJwrLDjj7CmsOj_4642548938_80e9_cee0_eb38_c8adceebab40a36bfc2685fdad037b14.mov\",\n        cover: \"https://music.starry-s.me/music/cover/109951165427223375.jpg\",\n        lrc: \"\",\n        theme: \"#aabbaa\"\n    }]\n});\n \n\n\n\n\n\nint main(int argc, char *argv[])\n{\n    printf(&quot;Hello World!\\n&quot;);\n    return 0;\n}\n\" data-info=\"language-C\" data-lang=\"C\" class=\"code-block\">#include &lt;stdio.h&gt;\nint main(int argc, char *argv[])\n{\n    printf(\"Hello World!\\n\");\n    return 0;\n}\n\nSTARRY-S' Blog\n"}]}